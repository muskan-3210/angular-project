<!-- Start vertical navbar -->
<!-- <app-banner-sidebar></app-banner-sidebar> -->
<!-- Start Page content holder -->
<!-- <div class=" page-content p-4 " id="content">
  <div class="dashboard ">
    <main class="col-md-12 ms-sm-auto col-lg-12 px-md-4">
      <h1 class="h2 my-4">Dashboard</h1>
      <div class="row mb-3">
        <div class="col-12 col-md-6 col-lg-4 mb-3">
          <form class="d-flex">
            <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search" (keypress)="search($event)">
          <button class="btn btn-outline-primary" type="submit">Search</button>
          </form>
          
        </div>
        
        <div class="col-12 col-md-6 col-lg-4 mb-3 text-md-end">
          <button type="submit" class="btn btn-dark mb-3 float-end" (click)="navigateTo()">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-lg"
              viewBox="0 0 16 16">
              <path fill-rule="evenodd"
                d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2" />
            </svg>
            Add User
          </button>
          
        </div>
        
        <div class="col-12 col-md-6 col-lg-4 mb-3 text-md-end">
       <mat-form-field appearance="fill" class="float-end">
                    <mat-label>Sort by</mat-label>
                    <mat-select [(value)]="sortOrder" (selectionChange)="onSortChange($event.value)">
                      <mat-option value="ASC">Ascending</mat-option>
                      <mat-option value="DESC">Descending</mat-option>
                    </mat-select>
                  </mat-form-field> 
        
          <button mat-button [matMenuTriggerFor]="menu">
            <mat-icon>sort</mat-icon> Sort
          </button>
        
          <mat-menu #menu="matMenu">
            <button mat-menu-item (click)="onSortChange('ASC')">Ascending</button>
            <button mat-menu-item (click)="onSortChange('DESC')">Descending</button>
          </mat-menu>
        </div>
        
        
       
        
      </div>
      <div class="row">
      
        
        <div class="col-12 col-sm-12 col-md-12">
          <div class="card shadow-sm">
            <div class="card-body p-3">
              <table mat-table [dataSource]="products" class="mat-elevation-z8">
  
                <ng-container matColumnDef = "index">
                  <th mat-header-cell *matHeaderCellDef style="text-align: center;">S. No.</th>
                  <td mat-Cell *matCellDef = "let product; let i = index" style="text-align: center;">{{ getIndex(i) }}</td>
                </ng-container>
          
                <ng-container matColumnDef="image">
                  <th mat-header-cell *matHeaderCellDef class="table-header">Image</th>
                  <td mat-cell *matCellDef="let product" class="table-cell">
                    <div style="padding: 5px">
                      <img [src]="imageUrl + product.image" alt="{{ product.title }}"
                        (click)="openImageDialog(imageUrl + product.image)" style="cursor: pointer; width: 50px; height: 50px;"
                        sizes="(max-width: 600px) 480px, (max-width: 1200px) 768px, 1200px" width="50" height="50" />
                    </div>
                  </td>
                </ng-container>
          
                <ng-container matColumnDef="name">
                  <th mat-header-cell *matHeaderCellDef>Name</th>
                  <td mat-cell *matCellDef="let product">{{ product.name }}</td>
                </ng-container>
            
                <ng-container matColumnDef="price">
                  <th mat-header-cell *matHeaderCellDef>Price</th>
                  <td mat-cell *matCellDef="let product">{{ product.price }}</td>
                </ng-container>
            
                <ng-container matColumnDef="category">
                  <th mat-header-cell *matHeaderCellDef>Category</th>
                  <td mat-cell *matCellDef="let product">{{ product.category }}</td>
                </ng-container>
                
                <ng-container matColumnDef="quantity">
                  <th mat-header-cell *matHeaderCellDef>Quantity</th>
                  <td mat-cell *matCellDef="let product">{{ product.quantity }}</td>
                </ng-container>
            
                <ng-container matColumnDef="access">
                  <th mat-header-cell *matHeaderCellDef class="table-header">Details</th>
                  <td mat-cell *matCellDef="let product" class="table-cell">
                    <div class="td-action">
                      <button mat-flat-button color="primary" (click)="userDetail(product.id)">View</button>
                      <button class="btn btn-light me-3" style="text-align: center" (click)="editUser(product.id)">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                        class="bi bi-pencil-fill" viewBox="0 0 16 16">
                        <path
                        d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z" />
                      </svg>
                    </button>
                      <button class="btn btn-danger me-3" (click)="openConfirmDialog(product.id, product.name)" style="text-align: center">
                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                          class="bi bi-trash3-fill" viewBox="0 0 16 16">
                          <path
                            d="M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5m-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06m6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528M8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5" />
                        </svg>
                      </button>
                    </div>
                  </td>
                  
                </ng-container>
            
                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
              </table>
            </div>
            <mat-paginator [length]="totalItems" [pageSize]="perPage" [pageSizeOptions]="[5, 10, 20,100]" (page)="onPageChange($event)">
            </mat-paginator>
          </div>
        </div>
        
      </div>
    </main>
  </div>
</div> -->

<div class="container-fluid" id="content">
  <div class="row align-items-center mb-4 mt-3">
    <div class="col-12 col-md d-flex justify-content-md-end mt-2 mt-md-0 mb-3">
      <div class="me-4">
        <button mat-button [matMenuTriggerFor]="menu">
          <mat-icon>sort</mat-icon> Sort
        </button>
      
        <mat-menu #menu="matMenu">
          <button mat-menu-item (click)="onSortChange('ASC')">Ascending</button>
          <button mat-menu-item (click)="onSortChange('DESC')">Descending</button>
        </mat-menu>
      </div>
      <button type="submit" class="btn btn-dark mb-3 float-end" (click)="navigateTo()">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-plus-lg"
          viewBox="0 0 16 16">
          <path fill-rule="evenodd"
            d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2" />
        </svg>
        Add Banner
      </button>
    </div>
    
  </div>

  <table mat-table [dataSource]="banner" class="mat-elevation-z8">
    <ng-container matColumnDef = "index">
      <th mat-header-cell *matHeaderCellDef style="text-align: center;">S. No.</th>
      <td mat-Cell *matCellDef = "let i = index"  style="text-align: center;">{{ getIndex(i) }}</td>
    </ng-container>

    <ng-container matColumnDef="image">
      <th mat-header-cell *matHeaderCellDef class="table-header" style="text-align: center;">Image</th>
      <td mat-cell *matCellDef="let banner" class="table-cell" style="text-align: center;">
        <div style="padding: 5px">
          <img [src]="imageUrl + banner.image" alt="banner-image"
            (click)="openImageDialog(imageUrl + banner.image)" style="cursor: pointer; width: 50px; height: 50px;"
            sizes="(max-width: 600px) 480px, (max-width: 1200px) 768px, 1200px" width="50" height="50" />
        </div>
      </td>
    </ng-container>

    <ng-container matColumnDef = "status">
      <th mat-header-cell *matHeaderCellDef style="text-align: center;">Status</th>
      <td mat-Cell *matCellDef = "let banner"  style="text-align: center;"> 
        <span [ngClass]="{'text-success': banner.status === 'active', 'text-danger': banner.status === 'inactive'}">
        {{ banner.status }}
      </span>
    </td>
    </ng-container>

    <ng-container matColumnDef="access">
      <th mat-header-cell *matHeaderCellDef class="table-header" style="text-align: center;">Details</th>
      <td mat-cell *matCellDef="let banner" class="table-cell" style="text-align: center;">
        <div class="td-action">
          <button mat-flat-button color="primary" (click)="bannerDetail(banner.id)">View</button>
        </div>
      </td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef class="table-header" style="text-align: center;">Actions</th>
      <td mat-cell *matCellDef="let banner" class="table-cell" style="text-align: center;">
        <div class="td-action">
          <button class="btn btn-light me-3" style="text-align: center" (click)="editBanner(banner.id)">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
            class="bi bi-pencil-fill" viewBox="0 0 16 16">
            <path
            d="M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.5.5 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11z" />
          </svg>
        </button>
          <button class="btn btn-danger me-3" (click)="openConfirmDialog(banner.id)" style="text-align: center">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-trash3-fill"
              viewBox="0 0 16 16">
              <path
                d="M11 1.5v1h3.5a.5.5 0 0 1 0 1h-.538l-.853 10.66A2 2 0 0 1 11.115 16h-6.23a2 2 0 0 1-1.994-1.84L2.038 3.5H1.5a.5.5 0 0 1 0-1H5v-1A1.5 1.5 0 0 1 6.5 0h3A1.5 1.5 0 0 1 11 1.5m-5 0v1h4v-1a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5M4.5 5.029l.5 8.5a.5.5 0 1 0 .998-.06l-.5-8.5a.5.5 0 1 0-.998.06m6.53-.528a.5.5 0 0 0-.528.47l-.5 8.5a.5.5 0 0 0 .998.058l.5-8.5a.5.5 0 0 0-.47-.528M8 4.5a.5.5 0 0 0-.5.5v8.5a.5.5 0 0 0 1 0V5a.5.5 0 0 0-.5-.5" />
            </svg>
          </button>
        </div>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
  <mat-paginator [length]="totalItems" [pageSize]="perPage" [pageSizeOptions]="[5, 10, 20,100]" (page)="onPageChange($event)">
  </mat-paginator>
</div>